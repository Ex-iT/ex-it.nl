---
import { Icon } from 'astro-icon/components'
import { siteConfig } from '../config'
import MainLayout from '../layouts/MainLayout.astro'
import Badge from '../components/App/Badge.astro'
import LatestNotes from '../components/Notes/LatestNotes.astro'
---

<MainLayout>
  <section class="w-full">
    <article class="article base-card grow">
      <div class="flex items-center">
        <Icon
          class="w-8 h-8 mr-2 text-highlight"
          name="material-symbols:exit-to-app-sharp"
        />
        <h1 class="not-prose text-primary font-bold text-2xl w-auto">
          {siteConfig.title}
        </h1>
      </div>
      <p>
        A collection of my notes from <a
          href="https://en.wikipedia.org/wiki/Capture_the_flag_(cybersecurity)"
          title="Capture the Flag"
          target="_blank">CTF</a
        >'s and other coding projects I've been doing over the years.
      </p>
      <p>
        Since I've been taking notes while doing CTF's, mostly <a
          href="https://app.hackthebox.com/profile/169430"
          target="_blank">Hack The Box</a
        > and <a href="https://tryhackme.com/r/p/MrBlonde" target="_blank"
          >TryHackMe</a
        >, I wanted to have a place to store and easily search (type <button
          id="search-trigger"><Badge variant="outline">/</Badge></button
        > to search) through them. These are definitely not tutorials or proper blog
        posts, just a collection of my personal notes.
      </p>
    </article>
    <section class="my-4">
      <h2 class="mb-2">Latest Notes</h2>
      <LatestNotes />
    </section>
  </section>
</MainLayout>

<script>
  const searchTrigger = document.getElementById(
    'search-trigger'
  ) as HTMLButtonElement
  searchTrigger?.addEventListener('click', () => openSearch())

  function openSearch() {
    const searchDialog = document.querySelector(
      '#search-dialog'
    ) as HTMLDialogElement
    searchDialog?.showModal()
  }
</script>
